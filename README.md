# MES App - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ–º

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –Ω–∞ –±–∞–∑–µ Blazor Server (.NET 8) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö.

## üóÑÔ∏è –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

- **SQLite** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- **PostgreSQL** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
- **Microsoft SQL Server**

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (Development)
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `mes_dev.db` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
dotnet run
# –∏–ª–∏
dotnet run --launch-profile "http"
```

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω (Production)
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `appsettings.Production.json`.

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Å HTTPS
dotnet run --launch-profile "https"
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –ë–î

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫:

**–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** `appsettings.json`
```json
{
  "Database": {
    "Provider": "Sqlite",
    "ConnectionString": "Data Source=mes_dev.db"
  }
}
```

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:** `appsettings.Production.json`
```json
{
  "Database": {
    "Provider": "Postgres",
    "ConnectionString": "Host=192.168.1.100;Database=mesapp_prod;Username=mesuser;Password=your_password;Port=5432"
  }
}
```

### –ü—Ä–∏–º–µ—Ä—ã —Å—Ç—Ä–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

#### PostgreSQL
```
Host=192.168.1.100;Database=mesapp_prod;Username=mesuser;Password=your_password;Port=5432
```

#### SQL Server
```
Server=192.168.1.100,1433;Database=mesapp_prod;User Id=mesuser;Password=your_password;TrustServerCertificate=true
```

#### SQLite
```
Data Source=mes_database.db
```

## üìä –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
dotnet ef migrations add InitialCreate
```

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
# –î–ª—è —Ç–µ–∫—É—â–µ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
dotnet ef database update

# –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
ASPNETCORE_ENVIRONMENT=Production dotnet ef database update
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –º–∏–≥—Ä–∞—Ü–∏–π
```bash
dotnet ef migrations list
```

## üöÄ –ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# HTTP (Development)
dotnet run

# –° —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–æ—Ñ–∏–ª—è
dotnet run --launch-profile "http"
```

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω
```bash
# HTTPS (Production)
dotnet run --launch-profile "https"
```

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
```bash
# 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ appsettings.Production.json
# 2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
ASPNETCORE_ENVIRONMENT=Production dotnet ef database update

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
dotnet run --launch-profile "https"
```

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `ASPNETCORE_ENVIRONMENT` - –û–∫—Ä—É–∂–µ–Ω–∏–µ (Development/Production)
- `ASPNETCORE_URLS` - URL –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:
```bash
ASPNETCORE_ENVIRONMENT=Production ASPNETCORE_URLS="https://0.0.0.0:5013" dotnet run
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```
MesApp/
‚îú‚îÄ‚îÄ appsettings.json                 # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Development
‚îú‚îÄ‚îÄ appsettings.Production.json      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Production
‚îú‚îÄ‚îÄ Properties/
‚îÇ   ‚îî‚îÄ‚îÄ launchSettings.json          # –ü—Ä–æ—Ñ–∏–ª–∏ –∑–∞–ø—É—Å–∫–∞
‚îî‚îÄ‚îÄ mes_dev.db                       # SQLite –±–∞–∑–∞ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

## üåê –°–µ—Ç–µ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å
–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –∏–∑–º–µ–Ω–∏—Ç–µ URL –≤ `launchSettings.json`:
```json
"applicationUrl": "https://0.0.0.0:5013;http://0.0.0.0:5012"
```

### Firewall
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã:
- **5012** - HTTP
- **5013** - HTTPS

## üìã –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

- **Ctrl+S** - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–æ—Ä–º—É
- **F5** - –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å)
dotnet test

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
dotnet build

# –û—á–∏—Å—Ç–∫–∞
dotnet clean
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### HTTPS –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
dotnet dev-certs https --trust
```

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞–ª–∏–¥–Ω—ã–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ secure connection strings
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ú–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- **Warehouse** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–æ–º
- **QC** - –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞
- **Lab** - –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è
- **OPP** - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞

### –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **WAREHOUSE** - –°–∫–ª–∞–¥—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **QC** - –í—Ö–æ–¥–Ω–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- **LAB** - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∑–∞–≤–æ–¥—Å–∫–∞—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è
- **OPP** - –û—Ç–¥–µ–ª –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –ë–î –∑–∞–ø—É—â–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ `dotnet ef database update`

### –û—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
# –°–±—Ä–æ—Å –º–∏–≥—Ä–∞—Ü–∏–π
dotnet ef database drop
dotnet ef database update
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å HTTPS
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ dev —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
dotnet dev-certs https --clean
dotnet dev-certs https --trust
```

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `appsettings.json`:
- **Development**: –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏
- **Production**: –¢–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

## üìß –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –í–µ—Ä—Å–∏—é .NET 8
2. –°—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
3. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
4. –°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏